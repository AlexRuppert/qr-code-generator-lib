!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const r of t)if("childList"===r.type)for(const t of r.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.t)return;t.t=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.l&&(e.referrerPolicy=t.l),"use-credentials"===t.o?e.credentials="include":"anonymous"===t.o?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();let t=(t,e)=>l(Math.ceil(i(t)/e)).map((r=>t.substr(r++*e,e))),e=(t,e="")=>e.padStart(t,"0"),r=(t,r)=>e(r,t.toString(2)),a=t=>[...t].map(Number),n=(t,e)=>Array.from({length:e-t},((e,r)=>r+t)),l=t=>n(0,t),o=t=>{let e=l(t).map((t=>null));return e.map((t=>e.slice()))},u=t=>t.slice().map((t=>t.slice())),i=t=>t.length,s=(t,e,r=(()=>{}),a=0)=>{t.map(((n,l)=>(n.map(((r,n)=>0===a?e(r,n,l,t):e(t[n][l],l,n,t))),r(l,t))))},c=t=>{let e,r=0,a=[];for(;r<i(t);r++)(e=t.charCodeAt(r))<128&&a.push(e)||(e<2048?a.push(e>>6|192):(e>55295&&e<56320?(e=65536+((1023&e)<<10)+(1023&t.charCodeAt(++r)),a.push(e>>18|240,e>>12&63|128)):a.push(e>>12|224),a.push(e>>6&63|128)),a.push(63&e|128));return a};var m=(t=>(t[t.u=0]="L",t[t.i=1]="M",t[t.Q=2]="Q",t[t.m=3]="H",t))(m||{});let d,f,p,h=t("0011030906060a020325091a14141a0908441834100a1406126710231816090218921633100814041056091916111a0812651022100718061682142914101807219a1427120916051056183316111a081268213a1a1416051678142718121a0718911428161214042199163012091605147316312116160516831a35161121081a911a361a141a0721a318331a141a071a971834181318061a91183121161a081a9a18321a1421091a951a362116160621a41a372116210821a01a352116210918901a37211621081a981a361a14210921a51a352115210821a01a3521162108219a1a352115210821991a372116210821991a362116210821991a362116210821991a362116210821991a362116210921a41a372116210821a41a372116210821a51a362116210821a51a362116210821a01a372116210821a11a3721162108",2).map((t=>parseInt(t,11)+7)),k=t=>17+4*t,v=t=>{let e=k(t),r=2+(0|t/7);return-191-2*e+e*e-((5*r-1)*(5*r-1)-56)*+(t>1)-36*+(t>6)},w=t=>v(t)%8,g=t=>{let e=4+4*t,r=0|t/7,a=0|e/(r+1),n=a,o=n;return r>1&&(o=2*Math.ceil(((e-a)/r+1e-4)/2),n=e-o*r),t<2?[]:[6,...l(r+1).map((t=>6+n+t*o))]},B=[];n(1,41).map((t=>{l(4).map((e=>{p=((t,e)=>{let r=8*t-8+2*e,a=h[r],n=h[++r],l=0|v(t)/8,o=0,u=0,i=a+n;for(;u<57&&(o=(l-i*u)/(i+1))%1!=0;u++);let s=[{p:u,h:n,k:a}];return o>0&&n++,s.push({p:o,h:n,k:a}),s})(t,e),d=8*p.reduce(((t,e)=>t+e.h*e.p),0),f=(t=>t<=9?8:16)(t),B.push({v:e,version:t,g:p,B:d,M:f,L:0|(d-(4+f))/8,$:w(t),dimensions:k(t),I:g(t)})}))}));let M=0,b=[(t,e)=>(t+e)%2,(t,e)=>e%2,(t,e)=>t%3,(t,e)=>(t+e)%3,(t,e)=>(0|e/2+(0|t/3))%2,(t,e)=>t*e%2+t*e%3,(t,e)=>(t*e%2+t*e%3)%2,(t,e)=>((t+e)%2+t*e%3)%2],L={},$={1:0};l(255).reduce(((t,e)=>($[L[e]=t]=e,128&t?2*t^285:2*t)),1);let x,I,P,N,y=(t,e)=>t*e==0?0:L[($[t]+$[e])%255],O=(t,e)=>(x=t.slice(),l(i(t)-i(e)+1).map((t=>n(1,i(e)).map((r=>x[t+r]^=y(e[r],x[t]))))),x.slice(i(x)-i(e)+1)),q=t=>(P=[],l(i(t)).map((e=>l(i(t[e])).map((r=>P[r*i(t)+e]=t[e][r])))),P),A=(d,f=m.u)=>{let p=((t,e)=>((t,e)=>{let r=B.filter((r=>r.v===e&&r.L>=t));if(!r)throw Error("Input too long!");return r[0]})(i(c(t)),e))(d,f);return((c,m)=>{let d=(t=>{let e=o(t.dimensions);var r,a;return(t=>{let e=i(t),r=e-7,a=(e,r)=>{t[r+3][e+3]=!0,l(3).map((a=>{n(a,7-a).map((n=>t[r+a][e+n]=t[r+6-a][e+n]=t[r+n][e+a]=t[r+n][e+6-a]=a%2==0))}))};l(8).map((a=>t[a][7]=t[7][a]=t[7][e-a-1]=t[e-a-1][7]=t[r-1][a]=t[a][r-1]=!1)),a(0,0),a(0,r),a(r,0)})(e),r=e,(a=t.I).map(((t,e)=>a.slice(+(0===e||e===i(a)-1),e>0?i(a):-1).map((e=>l(3).map((a=>n(a,5-a).map((n=>r[e-2+a][t-2+n]=r[e+2-a][t-2+n]=r[e-2+n][t-2+a]=r[e-2+n][t+2-a]=a%2==0)))))))),((t,e)=>{let r=i(t);[l(9),n(r-8,r)].flat().map((e=>t[e][8]=t[8][e]=!1)),e>=7&&l(3).map((e=>l(6).map((a=>t[r-11+e][a]=t[a][r-11+e]=!1))))})(e,t.version),(t=>{n(7,i(t)-7).map((e=>t[6][e]=t[e][6]=e%2==0))})(e),(t=>{t.at(-8)[8]=!0})(e),e})(c),f=((t,e)=>{let r=o(i(t)),a=i(t)-1,n=a,l=a,u=0,s=0,c=-1;for(;s<i(e);)null===t[l][n-u]&&(r[l][n-u]="1"===e[s++]),1===u&&(l+=c,(l<0||l>a)&&(l=(a+a*c)/2,c*=-1,n-=2)),u^=1,n>=6&&n<=7&&(n=5);return r})(d,m),{mask:p,matrix:h}=((t,e)=>b.map((r=>((t,e)=>{let r=u(t);return s(t,((t,a,n)=>null===t&&(r[n][a]=e[n][a]))),r})(t,((t,e)=>{let r=u(t);return s(r,((t,a,n)=>e(a,n)?0:r[n][a]=!t)),r})(e,r)))).reduce(((t,e,r)=>((t=>{M=0,(t=>{let e=!1,r=0,a=()=>{M+=r>=5?r-2:0,r=0};[0,1].map((n=>{s(t,(t=>{t!==e&&(a(),e=t),r++}),a,n)}))})(t),(t=>{s(t,((e,r,a)=>{if(r<i(t)-1&&a<i(t)-1){let e=l(4).reduce(((e,n,l)=>e|+t[a+(n>>1)][r+(1&n)]<<l),0);M+=e%15==0?3:0}}))})(t),(t=>{let e=[{P:a("10111010000"),N:0},{P:a("00001011101"),N:0}];[0,1].map((r=>{s(t,(t=>e.map((e=>{e.N+=+t===e.P[e.N]?1:-e.N,e.N>=i(e.P)&&(M+=40,e.N=0)}))),(()=>e.map((t=>t.N=0))),r)}))})(t),(t=>{let e=0;s(t,(t=>e+=+t));let r=+e/(i(t)*i(t))*100,a=r-(5&r);M+=10*Math.min(...[a,a+5].map((t=>Math.abs(t-50)/5)))+5})(t)})(e),M<t.O?{O:M,mask:r,matrix:e}:t)),{O:1<<30,mask:0,matrix:[]}))(d,f);return((o,u,s)=>{let c=t("01001110",2)[o]+r(u,3),m=r(21522^parseInt(c+e(10,O(a(c+e(10)),a("10100110111")).join("")),2),15),d=0,f=0;[l(9),n(i(s)-7,i(s))].flat().map(((t,e,r)=>{let a=r.at(-1-e);6!==t&&(s[8][t]="1"===m[d++]),6!==a&&a!==i(s)-8&&(s[a][8]="1"===m[f++])}))})(c.v,p,h),((t,n)=>{if(t<7)return n;let o=r(t,6),u=o+e(12,O(a(o+e(12)),a("1111100100101")).join("")),s=0;return l(6).map((t=>l(3).map((e=>n.at(-9-e)[5-t]=n[5-t][i(n)-9-e]="1"===u[s++])))),n})(c.version,h)})(p,((a,n)=>{return N=((t,e)=>(I=0,t.g.map((t=>l(t.p).map((r=>l(t.h).map((t=>e[I++])))))).flat()))(a,t((o=a.B,u="0100"+r(i(n),a.M)+(t=>c(t).map((t=>r(t,8))).join(""))(n),u+=e(Math.min(o-i(u),4)),(u+=e(8-i(u)%8)).padEnd(o,"1110110000010001").substr(0,o)),8).map((t=>parseInt(t,2)))),[q(N),q(N.map((t=>{return e=t,r=a.g[0].k,O(e.concat(l(r).map((t=>0))),l(r).reduce(((t,e)=>{return r=t,a=[1,L[e]],x=[],r.map(((t,e)=>a.map(((r,a)=>x[e+a]^=y(r,t))))),x;var r,a}),[1]));var e,r})))].flat().map((t=>r(t,8))).join("")+e(a.$);var o,u})(p,d))},C=(t,e="#000")=>{let{d:r,q:a}=E(t);return`<svg viewBox="0 0 ${a} ${a}" stroke=${e} stroke-width=1.05 xmlns=http://www.w3.org/2000/svg><path d="${r}"/></svg>`},E=t=>{let e="";return t.map(((r,a)=>{let n,l=0,o=0;for(e+="M5 "+(a+5);o<t.length;o++)if(r[o]){for(n=0;r[++n+o];);e+=`m${o-l} 0h${n}`,l=(o+=n-1)+1}})),{d:e,q:t.length+10}};const H=document.getElementById("input"),K=document.getElementById("output");H.addEventListener("input",(()=>{K.innerHTML=C(A(H.value))})),K.innerHTML=C(A(H.value));
